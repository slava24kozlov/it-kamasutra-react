"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[732],{4732:function(e,n,r){r.r(n),r.d(n,{default:function(){return z}});var t=r(1413),s=r(5671),o=r(3144),i=r(9340),a=r(1129),u=r(2791),l=r(8687),c=r(6189),g=r(885),f=r(4667),h=r(8851),p="Users_usersMain__5CcCA",d="Users_userItem__Swgyb",C=r(3504),x=r(3992),j="Pagination_pagesList__8Bzgd",w="Pagination_selected__QdkkG",m=r(184),P=function(e){var n=e.currentPage,r=e.onChangeCurrentPage,t=e.pagesCount,s=e.double,o=e.children,i=(0,u.useState)(1),a=(0,g.Z)(i,2),l=a[0],c=a[1],f=function(){c((function(e){return l-5<=0?1:e-5}))},h=function(){c((function(e){return l+5>t?t-4:e+5}))},p=function(){return(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("button",{onClick:f,disabled:1===l,children:"\u2190"}),Array(5).fill(l).map((function(e,t){return(0,m.jsx)("span",{"aria-selected":n===e+t,datatype:n===e+t?"active":"",className:w,onClick:function(){return r(e+t)},children:e+t},e+t)})),(0,m.jsx)("button",{onClick:h,disabled:l===t-4,children:"\u2192"})]})};return(0,m.jsxs)(m.Fragment,{children:[p(),o,s&&p()]})},v=function(e){var n=e.users,r=e.currentPage,t=e.totalUsersCount,s=e.pageSize,o=e.isFetching,i=e.isFollowing,a=e.onChangeCurrentPage,l=e.follow,c=e.unfollow,j=(0,u.useState)(""),w=(0,g.Z)(j,2),v=w[0],b=w[1];return(0,m.jsx)(x.Z,{title:"USERS",children:o?(0,m.jsx)(f.Z,{}):(0,m.jsxs)(P,{currentPage:r,onChangeCurrentPage:a,pagesCount:Math.ceil(t/s),double:!0,children:[(0,m.jsx)("label",{children:(0,m.jsx)("b",{children:"Enter a search name: "})}),(0,m.jsx)("input",{type:"text",value:v,onChange:function(e){b(e.target.value)},placeholder:"enter a search name"}),(0,m.jsx)("div",{className:p,children:n.filter((function(e){return e.name.startsWith(v)})).map((function(e){var n=e.id,r=e.followed,t=e.name,s=e.status,o=e.photos.small;return(0,m.jsxs)("article",{className:d,children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(C.OL,{to:"/profile/".concat(n),children:(0,m.jsx)("img",{src:null!=o?o:h,alt:"user avatar"})}),(0,m.jsx)("button",{"data-follow":r,disabled:i.some((function(e){return e===n})),onClick:function(){return function(e,n){e?c(n):l(n)}(r,n)},children:r?"UNFOLLOW":"FOLLOW"})]}),(0,m.jsx)("div",{children:(0,m.jsxs)(C.OL,{to:"/profile/".concat(n),children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("b",{children:"Name: "}),t]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("b",{children:"Status: "}),s]})]})})]},n)}))})]})})},b=function(e){return e.usersPage.users},_=function(e){return e.usersPage.currentPage},k=function(e){return e.usersPage.totalUsersCount},S=function(e){return e.usersPage.pageSize},Z=function(e){return e.usersPage.isFetching},y=function(e){return e.usersPage.isFollowing},U=r(2163),F=r(7781),L=function(e){(0,i.Z)(r,e);var n=(0,a.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).onChangeCurrentPage=function(n){e.props.getUsersTC(n,e.props.pageSize)},e.follow=function(n){e.props.followingTC(n,!0)},e.unfollow=function(n){e.props.followingTC(n,!1)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){0===this.props.users.length&&this.props.getUsersTC(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,m.jsx)(v,(0,t.Z)((0,t.Z)({},this.props),{},{onChangeCurrentPage:this.onChangeCurrentPage,follow:this.follow,unfollow:this.unfollow}))}}]),r}(u.Component),z=(0,F.qC)((0,l.$j)((function(e){return{users:b(e),currentPage:_(e),totalUsersCount:k(e),pageSize:S(e),isFetching:Z(e),isFollowing:y(e)}}),{getUsersTC:c.Zw,followingTC:c.Mx}),U.e)(L)}}]);
//# sourceMappingURL=732.80656367.chunk.js.map