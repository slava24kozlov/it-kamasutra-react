{"version":3,"file":"static/js/732.80656367.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Users/Users.module.scss?b204","webpack://my-app/./src/components/common/Pagination/Pagination.module.scss?9a07","components/common/Pagination/Pagination.tsx","components/Users/Users.jsx","redux/selectors/UsersSelectors.ts","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersMain\":\"Users_usersMain__5CcCA\",\"userItem\":\"Users_userItem__Swgyb\"};","// extracted by mini-css-extract-plugin\nexport default {\"pagesList\":\"Pagination_pagesList__8Bzgd\",\"selected\":\"Pagination_selected__QdkkG\"};","import React, {useState} from \"react\";\r\nimport style from \"./Pagination.module.scss\";\r\n\r\ntype PropsType = {\r\n    currentPage: number\r\n    onChangeCurrentPage: (currentPage: number) => void\r\n    pagesCount: number\r\n    double: boolean\r\n    children: React.ReactChildren\r\n}\r\n\r\nconst Pagination: React.FC<PropsType> = ({currentPage, onChangeCurrentPage, pagesCount, double, children}) => {\r\n    const [currentLine, setCurrentLine] = useState(1);\r\n\r\n    const handleChangePaginationLeft = (): void => {\r\n        setCurrentLine(prev => currentLine - 5 <= 0 ? 1 : prev - 5);\r\n    };\r\n\r\n    const handleChangePaginationRight = (): void => {\r\n        setCurrentLine(prev => currentLine + 5 > pagesCount ? pagesCount - 4 : prev + 5);\r\n    };\r\n\r\n    const contentPagination = (): JSX.Element => (\r\n        <div className={style.pagesList}>\r\n            <button onClick={handleChangePaginationLeft} disabled={currentLine === 1}>\r\n                &#8592;\r\n            </button>\r\n            {Array(5).fill(currentLine).map((el: number, index: number) => (\r\n                <span\r\n                    key={el + index}\r\n                    aria-selected={currentPage === (el + index)}\r\n                    datatype={currentPage === (el + index) ? \"active\" : \"\"}\r\n                    className={style.selected}\r\n                    onClick={() => onChangeCurrentPage(el + index)}\r\n                >{el + index}</span>\r\n            ))}\r\n            <button onClick={handleChangePaginationRight} disabled={currentLine === pagesCount - 4}>\r\n                &#8594;\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            {contentPagination()}\r\n            {children}\r\n            {double && contentPagination()}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Pagination;\r\n","import React, {useState} from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport photoUser from \"../../image/photoUser.png\";\r\nimport style from \"./Users.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Wrapper from \"../common/Wrappers/WrapperComponents\";\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\n\r\nconst Users = ({\r\n                 users,\r\n                 currentPage,\r\n                 totalUsersCount,\r\n                 pageSize,\r\n                 isFetching,\r\n                 isFollowing,\r\n                 onChangeCurrentPage,\r\n                 follow,\r\n                 unfollow\r\n               }) => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const handleChange = (event) => {\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  const handleFollow = (isFollow, id) => {\r\n    isFollow ? unfollow(id) : follow(id);\r\n  };\r\n\r\n  return (\r\n    <Wrapper title=\"USERS\">\r\n      {isFetching ? <Preloader/> : (\r\n        <Pagination currentPage={currentPage}\r\n                    onChangeCurrentPage={onChangeCurrentPage}\r\n                    pagesCount={Math.ceil(totalUsersCount / pageSize)}\r\n                    double\r\n        >\r\n          <label><b>Enter a search name: </b></label>\r\n          <input type=\"text\" value={value} onChange={handleChange} placeholder=\"enter a search name\"/>\r\n          <div className={style.usersMain}>\r\n            {users.filter(({name}) => name.startsWith(value))\r\n              .map(({\r\n                      id,\r\n                      followed,\r\n                      name,\r\n                      status,\r\n                      photos: {small}\r\n                    }) =>\r\n                <article key={id} className={style.userItem}>\r\n                  <div>\r\n                    <NavLink to={`/profile/${id}`}>\r\n                      <img src={small != null ? small : photoUser} alt='user avatar'/>\r\n                    </NavLink>\r\n                    <button\r\n                      data-follow={followed}\r\n                      disabled={isFollowing.some(user => user === id)}\r\n                      onClick={() => handleFollow(followed, id)}>\r\n                      {followed ? \"UNFOLLOW\" : \"FOLLOW\"}\r\n                    </button>\r\n                  </div>\r\n                  <div>\r\n                    <NavLink to={`/profile/${id}`}>\r\n                      <p><b>Name: </b>{name}</p>\r\n                      <p><b>Status: </b>{status}</p>\r\n                    </NavLink>\r\n                  </div>\r\n                </article>\r\n              )}\r\n          </div>\r\n        </Pagination>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import {AppStateType} from \"../store\";\r\nimport {InitialStateType} from \"../reducer/UsersReducer\";\r\n\r\nexport const getUsers = (state: AppStateType): InitialStateType[\"users\"] => (\r\n  state.usersPage.users\r\n);\r\n\r\nexport const getCurrentPage = (state: AppStateType): InitialStateType[\"currentPage\"] => (\r\n  state.usersPage.currentPage\r\n);\r\n\r\nexport const getTotalUsersCount = (state: AppStateType): InitialStateType[\"totalUsersCount\"] => (\r\n  state.usersPage.totalUsersCount\r\n);\r\n\r\nexport const getPageSize = (state: AppStateType): InitialStateType[\"pageSize\"] => (\r\n  state.usersPage.pageSize\r\n);\r\n\r\nexport const getIsFetching = (state: AppStateType): InitialStateType[\"isFetching\"] => (\r\n  state.usersPage.isFetching\r\n);\r\n\r\nexport const getIsFollowing = (state: AppStateType): InitialStateType[\"isFollowing\"] => (\r\n  state.usersPage.isFollowing\r\n);\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  getUsersTC,\r\n  followingTC,\r\n} from \"../../redux/reducer/UsersReducer\";\r\nimport Users from \"./Users\";\r\nimport {\r\n  getCurrentPage,\r\n  getIsFetching, getIsFollowing,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers\r\n} from \"../../redux/selectors/UsersSelectors\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    if (this.props.users.length === 0) {\r\n      this.props.getUsersTC(this.props.currentPage, this.props.pageSize);\r\n    }\r\n  }\r\n\r\n  onChangeCurrentPage = (currentPage) => {\r\n    this.props.getUsersTC(currentPage, this.props.pageSize);\r\n  };\r\n\r\n  follow = (id) => {\r\n    this.props.followingTC(id, true);\r\n  };\r\n\r\n  unfollow = (id) => {\r\n    this.props.followingTC(id, false);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Users {...this.props}\r\n             onChangeCurrentPage={this.onChangeCurrentPage}\r\n             follow={this.follow}\r\n             unfollow={this.unfollow}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  users: getUsers(state),\r\n  currentPage: getCurrentPage(state),\r\n  totalUsersCount: getTotalUsersCount(state),\r\n  pageSize: getPageSize(state),\r\n  isFetching: getIsFetching(state),\r\n  isFollowing: getIsFollowing(state),\r\n});\r\n\r\nexport default compose(connect(mapStateToProps, {getUsersTC, followingTC}), WithAuthRedirect)(UsersContainer);\r\n"],"names":["currentPage","onChangeCurrentPage","pagesCount","double","children","useState","currentLine","setCurrentLine","handleChangePaginationLeft","prev","handleChangePaginationRight","contentPagination","className","style","onClick","disabled","Array","fill","map","el","index","datatype","users","totalUsersCount","pageSize","isFetching","isFollowing","follow","unfollow","value","setValue","title","Preloader","Math","ceil","type","onChange","event","target","placeholder","filter","name","startsWith","id","followed","status","small","photos","to","src","photoUser","alt","some","user","isFollow","handleFollow","getUsers","state","usersPage","getCurrentPage","getTotalUsersCount","getPageSize","getIsFetching","getIsFollowing","UsersContainer","props","getUsersTC","followingTC","this","length","React","compose","connect","WithAuthRedirect"],"sourceRoot":""}